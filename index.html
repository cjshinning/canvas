<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>canvas使用图像</title>
	<style>
		#canvas {
			border: 1px solid #000;
		}
	</style>
	<script>
		function draw() {
			var ctx = document.getElementById('canvas').getContext('2d');

			// var img = new Image();

			// img.onload = function(){
			// 	ctx.drawImage(img,0,0);
			// 	ctx.beginPath();
			// 	ctx.moveTo(30,96);
			// 	ctx.lineTo(70,66);
			// 	ctx.lineTo(103,76);
			// 	ctx.lineTo(170,15);
			// 	ctx.stroke();
			// }

			// img.src = './images/preloadjs-bg-center.png';

			// 平铺图片
			// img.onload = function(){
			// 	for(var i=0;i<4;i++){
			// 		for(var j=0;j<3;j++){
			// 			ctx.drawImage(img,j*50,i*38,50,38);
			// 		}
			// 	}
			// }

			// img.src = './images/preloadjs-bg-center.png';

			// ctx.fillRect(0,0,150,150);
			// ctx.save();

			// ctx.fillStyle = '#09F';
			// ctx.fillRect(15,15,120,120);

			// ctx.save();
			// ctx.fillStyle = '#FFF';
			// ctx.globalAlpha = 0.5;
			// ctx.fillRect(30,30,90,90);

			// ctx.restore();
			// ctx.fillRect(45,45,60,60);

			// ctx.restore();
			// ctx.fillRect(60,60,30,30);

			// ctx.translate(75,75);

			// for(var i=1;i<6;i++){
			// 	ctx.save();
			// 	ctx.fillStyle = 'rgb('+(51*i)+','+(255-51*i)+',255)';

			// 	for(var j=0;j<i*6;j++){
			// 		ctx.rotate(Math.PI*2/(i*6));
			// 		ctx.beginPath();
			// 		ctx.arc(0,i*12.5,5,0,Math.PI*2,true);
			// 		ctx.fill();
			// 	}

			// 	ctx.restore();
			// }

			// var sin = Math.sin(Math.PI/6);
			// var cos = Math.cos(Math.PI/6);

			// ctx.translate(100,100);

			// var c = 0;
			// for(var i=0;i<=12;i++){
			// 	c = Math.floor(255/12*i);
			// 	ctx.fillStyle = "rgb(" + c + "," + c + "," + c + ")";
			// 	ctx.fillRect(0,0,100,10);
			// 	ctx.transform(cos,sin,-sin,cos,0,0);
			// }

			// ctx.setTransform(-1,0,0,1,100,100);
			// ctx.fillStyle = 'rgba(255,128,255,0.5)';
			// ctx.fillRect(0,50,100,100);

			ctx.fillRect(0, 0, 150, 150);
			ctx.translate(75, 75);

			ctx.beginPath();
			ctx.arc(0, 0, 60, 0, Math.PI * 2, true);
			ctx.clip();

			var lingrad = ctx.createLinearGradient(0, -75, 0, 75);
			lingrad.addColorStop(0, '#232256');
			lingrad.addColorStop(1, '#143778');

			ctx.fillStyle = lingrad;
			ctx.fillRect(-75, -75, 150, 150);

			// draw stars
			for (var j = 1; j < 50; j++) {
				ctx.save();
				ctx.fillStyle = '#fff';
				ctx.translate(75 - Math.floor(Math.random() * 150),
					75 - Math.floor(Math.random() * 150));
				drawStar(ctx, Math.floor(Math.random() * 4) + 2);
				ctx.restore();
			}
		}

		function drawStar(ctx, r) {
			ctx.save();
			ctx.beginPath()
			ctx.moveTo(r, 0);
			for (var i = 0; i < 9; i++) {
				ctx.rotate(Math.PI / 5);
				if (i % 2 == 0) {
					ctx.lineTo((r / 0.525731) * 0.200811, 0);
				} else {
					ctx.lineTo(r, 0);
				}
			}
			ctx.closePath();
			ctx.fill();
			ctx.restore();
		}
	</script>
</head>

<body onload="draw()">
	<canvas id="canvas" width="150" height="150"></canvas>
</body>

</html>